{"ast":null,"code":"var _jsxFileName = \"/Users/raghavasrivastava/Downloads/Health-and-Fitness-Website/src/components/nested-components/AddToFavorites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect, useCallback } from 'react';\nimport { FavoritesContext } from '../../context/Favorites';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddToFavorites = _ref => {\n  _s();\n\n  let {\n    recipe\n  } = _ref;\n  const [addToFavorites, setAddToFavorites] = useState(true);\n  const {\n    favorites,\n    setFavoriteRecipes\n  } = useContext(FavoritesContext); // Returns favorite recipes excluding current recipe\n\n  const getFavoritesWithoutThisRecipe = useCallback(() => {\n    return favorites.filter(favoriteRecipe => {\n      return favoriteRecipe.ingredients.toString() !== recipe.ingredients.toString();\n    });\n  }, [favorites, recipe.ingredients]); // checks if current recipe is a favorite\n\n  const checkIfAFavoriteRecipe = useCallback(() => {\n    let updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\n    favorites.length !== updatedFavoriteRecipes.length ? setAddToFavorites(false) : setAddToFavorites(true);\n  }, [favorites.length, getFavoritesWithoutThisRecipe]);\n\n  const addFavorite = () => {\n    const updatedFavoriteRecipes = [...favorites, recipe];\n    setFavoriteRecipes(updatedFavoriteRecipes);\n    setAddToFavorites(false);\n  };\n\n  const removeFavorite = () => {\n    const updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\n    setFavoriteRecipes(updatedFavoriteRecipes);\n    setAddToFavorites(true);\n  };\n\n  useEffect(() => {\n    checkIfAFavoriteRecipe();\n  }, [checkIfAFavoriteRecipe]);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"add-favorite\",\n    onClick: addToFavorites ? addFavorite : removeFavorite,\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"fa-solid fa-bookmark\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), addToFavorites ? /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Add to favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Remove from favorites\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddToFavorites, \"p2zR9BKrH/nM3lLC90lHjhR3O4s=\");\n\n_c = AddToFavorites;\nexport default AddToFavorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddToFavorites\");","map":{"version":3,"sources":["/Users/raghavasrivastava/Downloads/Health-and-Fitness-Website/src/components/nested-components/AddToFavorites.js"],"names":["React","useContext","useState","useEffect","useCallback","FavoritesContext","AddToFavorites","recipe","addToFavorites","setAddToFavorites","favorites","setFavoriteRecipes","getFavoritesWithoutThisRecipe","filter","favoriteRecipe","ingredients","toString","checkIfAFavoriteRecipe","updatedFavoriteRecipes","length","addFavorite","removeFavorite"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,EAAsCC,SAAtC,EAAiDC,WAAjD,QAAoE,OAApE;AACA,SAASC,gBAAT,QAAiC,yBAAjC;;;AAEA,MAAMC,cAAc,GAAG,QAAgB;AAAA;;AAAA,MAAf;AAAEC,IAAAA;AAAF,GAAe;AACnC,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCP,QAAQ,CAAC,IAAD,CAApD;AAEA,QAAM;AAAEQ,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAoCV,UAAU,CAACI,gBAAD,CAApD,CAHmC,CAKnC;;AACA,QAAMO,6BAA6B,GAAGR,WAAW,CAAC,MAAM;AACpD,WAAOM,SAAS,CAACG,MAAV,CAAiBC,cAAc,IAAI;AACtC,aAAOA,cAAc,CAACC,WAAf,CAA2BC,QAA3B,OAA0CT,MAAM,CAACQ,WAAP,CAAmBC,QAAnB,EAAjD;AACH,KAFM,CAAP;AAGH,GAJgD,EAI/C,CAACN,SAAD,EAAYH,MAAM,CAACQ,WAAnB,CAJ+C,CAAjD,CANmC,CAYnC;;AACA,QAAME,sBAAsB,GAAGb,WAAW,CAAC,MAAM;AAC7C,QAAIc,sBAAsB,GAAGN,6BAA6B,EAA1D;AAEAF,IAAAA,SAAS,CAACS,MAAV,KAAqBD,sBAAsB,CAACC,MAA5C,GACIV,iBAAiB,CAAC,KAAD,CADrB,GAEIA,iBAAiB,CAAC,IAAD,CAFrB;AAGH,GANyC,EAMvC,CAACC,SAAS,CAACS,MAAX,EAAmBP,6BAAnB,CANuC,CAA1C;;AAQA,QAAMQ,WAAW,GAAG,MAAM;AACtB,UAAMF,sBAAsB,GAAG,CAAC,GAAGR,SAAJ,EAAeH,MAAf,CAA/B;AACAI,IAAAA,kBAAkB,CAACO,sBAAD,CAAlB;AACAT,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACH,GAJD;;AAMA,QAAMY,cAAc,GAAG,MAAM;AACzB,UAAMH,sBAAsB,GAAGN,6BAA6B,EAA5D;AACAD,IAAAA,kBAAkB,CAACO,sBAAD,CAAlB;AACAT,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACH,GAJD;;AAMAN,EAAAA,SAAS,CAAC,MAAM;AACZc,IAAAA,sBAAsB;AACzB,GAFQ,EAEN,CAACA,sBAAD,CAFM,CAAT;AAIA,sBACI;AAAG,IAAA,SAAS,EAAC,cAAb;AAA4B,IAAA,OAAO,EAAET,cAAc,GAAGY,WAAH,GAAiBC,cAApE;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YADJ,EAGQb,cAAc,gBACV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADU,gBAEV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH,CA/CD;;GAAMF,c;;KAAAA,c;AAiDN,eAAeA,cAAf","sourcesContent":["import React, { useContext, useState, useEffect, useCallback } from 'react';\r\nimport { FavoritesContext } from '../../context/Favorites'\r\n\r\nconst AddToFavorites = ({ recipe }) => {\r\n    const [addToFavorites, setAddToFavorites] = useState(true);\r\n\r\n    const { favorites, setFavoriteRecipes } = useContext(FavoritesContext);\r\n\r\n    // Returns favorite recipes excluding current recipe\r\n    const getFavoritesWithoutThisRecipe = useCallback(() => {\r\n        return favorites.filter(favoriteRecipe => {\r\n            return favoriteRecipe.ingredients.toString() !== recipe.ingredients.toString()\r\n        })\r\n    },[favorites, recipe.ingredients])\r\n\r\n    // checks if current recipe is a favorite\r\n    const checkIfAFavoriteRecipe = useCallback(() => {\r\n        let updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\r\n\r\n        favorites.length !== updatedFavoriteRecipes.length ?\r\n            setAddToFavorites(false):\r\n            setAddToFavorites(true)\r\n    }, [favorites.length, getFavoritesWithoutThisRecipe])\r\n\r\n    const addFavorite = () => {\r\n        const updatedFavoriteRecipes = [...favorites, recipe];\r\n        setFavoriteRecipes(updatedFavoriteRecipes)\r\n        setAddToFavorites(false);\r\n    }\r\n\r\n    const removeFavorite = () => {\r\n        const updatedFavoriteRecipes = getFavoritesWithoutThisRecipe();\r\n        setFavoriteRecipes(updatedFavoriteRecipes)\r\n        setAddToFavorites(true);\r\n    }\r\n\r\n    useEffect(() => {\r\n        checkIfAFavoriteRecipe()\r\n    }, [checkIfAFavoriteRecipe])\r\n\r\n    return (\r\n        <p className=\"add-favorite\" onClick={addToFavorites ? addFavorite : removeFavorite}>\r\n            <svg className=\"fa-solid fa-bookmark\" />\r\n            {\r\n                addToFavorites ?\r\n                    <span>Add to favorites</span> :\r\n                    <span>Remove from favorites</span> \r\n            }\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default AddToFavorites;"]},"metadata":{},"sourceType":"module"}